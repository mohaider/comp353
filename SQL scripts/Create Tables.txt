DROP DATABASE IF EXISTS Daycare;
CREATE DATABASE Daycare;

USE Daycare;

CREATE TABLE IF NOT EXISTS Family
(
ID int NOT NULL AUTO_INCREMENT,
EmergencyPhoneNum VARCHAR(12) NOT NULL,
UNIQUE(ID),
PRIMARY KEY(ID)
);

CREATE TABLE IF NOT EXISTS Child
(
MedicareNum VARCHAR(14) NOT NULL,
SEX VARCHAR(12) NOT NULL,
DOB DATE NOT NULL,
Name VARCHAR(100) NOT NULL,
AgeGroup VARCHAR(25) NOT NULL,
UNIQUE(MedicareNum),
PRIMARY KEY(MedicareNum)
);

CREATE TABLE IF NOT EXISTS ChildOf
(
MedicareNum VARCHAR(14) NOT NULL,
FamilyID int NOT NULL,
FOREIGN KEY(MedicareNum)
	REFERENCES Child(MedicareNum)
	ON DELETE CASCADE,
FOREIGN KEY(FamilyID)
	REFERENCES Family(ID),
	ON DELETE CASCADE,
PRIMARY KEY(MedicareNum)
);